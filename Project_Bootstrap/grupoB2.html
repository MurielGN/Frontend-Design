<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="./CSS/estilos.css"/>
    <!-- Latest compiled and minified CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
    <title>Bootstrap</title>
</head>
<body>
    <header>
        <h1>Cabecera principal del Grupa A 1</h1>
    </header>
    <nav>
        <div class="navbar">
            <a href="./index.html"><i class="fa fa-home"></i></a>
            <a href="grupoB1.html">GrupoB1</a>
            <a href="index.html">Index</a>
            <a href="grupoA1.html">GrupoA1</a>
            <a href="grupoA3.html">GrupoA3</a>
            <a href="grupoB2.html">GrupoB2</a>
            <a href="./index.html"></a>
            <div class="dropdown">
                <button class="dropbtn" onclick="myFunction()"> grupoB2
                <i class="fa fa-caret-down"></i>
                </button>
                <div class="dropdown-content" id="myDropdown">
                    <a href="#ej1">Ejercicio 1</a>
                    <a href="#ej2">Ejercicio 2</a>
                    <a href="#ej3">Ejercicio 3</a>
                </div>
            </div>
        </div>
    </nav>
    <div class="main">
        <main>
            <div class="ej1">            
                <section id="ej1">
                    <!-- Muriel esta es tu area de trabajo: formulario especifico-->
                    <h2>Formulario Específico</h2><br><br>
                    <p>Este formulario es la puesta en práctica de todo lo aprendido. Con las ideas que han ido surgiendo de diferentes investigaciones de cada apartado.</p>
                    <p>Además de organizar el tamaño del formulario, por ahora estático, e introducir dos select y un radio.</p>
                    <p>Se ha conseguido que al pulsar el botón Enviar (JavaScript) se cambie la clase Bootstrap del form a
                        "was-validated". Esto hará la llamada a las librerías de Bootstrap y se comprobará que estén todos los campos rellenos y salgan en verde los que están bien y en rojo más un mensaje debajo los que están mal. ref: <a href="https://getbootstrap.com/docs/5.0/forms/validation/">etbootstrap.com forms validation</a></p>
                    <p> Además se ha añadido un icino de Bootstrap.Para esto, en la cabecera '&lt;link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css"&gt;' más el icono deseado de alerta
                    &lt;i class="bi bi-exclamation-triangle"&gt;&lt;/i&gt; </p>
                    <p>Tambien se ha añaido un evento para lanzar un spiner de Bootstrap cuando se rellena el campo "Alias" simulando que se chequea con la BBDD si esta disponible.</p>
                    <p>Se ha integrado una barra de progreso de Bootstrap con JavaScript para simular el progreso al rellenar campos en el formulario.</p>
                    
                    <p>La temática es un formulario de registro para una app social que admite pagos.</p><br>
                    <div class="container">
                        <!-- <h4>Formulario de Registro</h4> -->
                        <div class="container mt-3">                            
                            <div class="progress">
                              <div class="progress-bar" style="width:0%" id="barra"></div>
                            </div>
                          </div>
                        <form id="formulario" class="row g-3 needs-validation" novalidate>
                            <!-- Primeros datos -->
                            <h4>Primeros datos</h4>
                            <div class="container-fluid">
                                <div class="col-4">
                                    <label for="alias" class="form-label">Alias:</label>
                                    <input type="text" class="form-control" id="alias" placeholder="Tu alias público" name="alias" required><div id="spinner" class="spinner-border text-primary"></div>
                                    <div class="valid-feedback"></div>
                                    <div class="invalid-feedback"><i class="bi bi-exclamation-triangle"></i> Se requiere un alias <i class="bi bi-exclamation-triangle"></i></div>
                                </div>
                            </div>

                            <div class="container-fluid">
                                <div class="col-4">
                                    <label for="email" class="form-label">Email:</label>
                                    <input type="text" class="form-control" id="email" placeholder="Tu email público" name="email" required>
                                    <div class="valid-feedback"></div>
                                    <div class="invalid-feedback"><i class="bi bi-exclamation-triangle"></i> Se requiere un dirección de correo electronico <i class="bi bi-exclamation-triangle"></i></div>
                                </div>
                            </div>

                            <div class="form-group row">
                                <div class="col-4">
                                    <label for="contraseña" class="form-label">Contraseña:</label>
                                    <input type="text" class="form-control" id="contraseña" placeholder="Tu contraseña" name="contraseña" required>
                                    <div class="valid-feedback"></div>
                                    <div class="invalid-feedback"><i class="bi bi-exclamation-triangle"></i> Se requiere una contraseña <i class="bi bi-exclamation-triangle"></i></div>
                                </div>
                            
                                <div class="col-4">
                                    <label for="contraseña2" class="form-label">Confirma la contraseña:</label>
                                    <input type="text" class="form-control" id="contraseña2" placeholder="Confirma tu contraseña" name="contraseña2" required>
                                    <div class="valid-feedback"></div>
                                    <div class="invalid-feedback"><i class="bi bi-exclamation-triangle"></i> Debe confirmar la contraseña <i class="bi bi-exclamation-triangle"></i></div>
                                </div>
                            </div>

                            <!-- Fin Primeros datos -->
                            <!-- Datos Personales Privados -->
                            <h4 class="mt-5">Datos Personales</h4>

                            <div class="container-fluid">
                                <div class="col-4">
                                    <label for="nombreCompleto" class="form-label">Nombre completo:</label>
                                    <input type="text" class="form-control" id="nombreCompleto" placeholder="Tu nombre completo privado" name="nombreCompleto" required>
                                    <div class="valid-feedback"></div>
                                    <div class="invalid-feedback"><i class="bi bi-exclamation-triangle"></i> Se requiere un nombre completo. <i class="bi bi-exclamation-triangle"></i></div>
                                </div>
                            </div>

                            <div class="container-fluid">
                                <div class="col-4">
                                    <label for="telefono" class="form-label">Número de teléfono:</label>
                                    <input type="text" class="form-control" id="telefono" placeholder="Tu teléfono será pirvado" name="telefono" required>
                                    <div class="valid-feedback"></div>
                                    <div class="invalid-feedback"><i class="bi bi-exclamation-triangle"></i> El número de teléfono es obligatorio. <i class="bi bi-exclamation-triangle"></i></div>
                                </div>
                            </div>

                            <div class="container-fluid">
                                <div class="col-4">
                                    <label for="direccion" class="form-label">Dirección:</label>
                                    <input type="text" class="form-control" id="direccion" placeholder="Tu dirección será pirvada" name="direccion" required>
                                    <div class="valid-feedback"></div>
                                    <div class="invalid-feedback"><i class="bi bi-exclamation-triangle"></i> Se requiere una dirección. <i class="bi bi-exclamation-triangle"></i></div>
                                    <input type="text" class="mt-1 form-control" id="direccion2" placeholder="Apartamento, edificio, planta" name="direccion2">
                                </div>
                            </div>

                            <div class="container-fluid">
                                <div class="col-4">
                                    <label for="ciudad" class="form-label">Ciudad:</label>
                                    <input type="text" class="form-control" id="ciudad" placeholder="Tu ciudad" name="ciudad" required>
                                    <div class="valid-feedback"></div>
                                    <div class="invalid-feedback"><i class="bi bi-exclamation-triangle"></i> Se requiere una ciudad. <i class="bi bi-exclamation-triangle"></i></div>
                                </div>
                            </div>

                            <div class="container-fluid">
                                <div class="col-4">
                                    <label for="provincia" class="form-label">Provincia:</label>
                                    <input type="text" class="form-control" id="provincia" placeholder="Tu provincia" name="provincia" required>
                                    <div class="valid-feedback"></div>
                                    <div class="invalid-feedback"><i class="bi bi-exclamation-triangle"></i> Se requiere una provincia. <i class="bi bi-exclamation-triangle"></i></div>
                                </div>
                            </div>

                            <div class="container-fluid">
                                <div class="col-4">
                                    <label for="codpost" class="form-label">Código postal:</label>
                                    <input type="text" class="form-control" id="codpost" placeholder="Tu código postal" name="codpost" required>
                                    <div class="valid-feedback"></div>
                                    <div class="invalid-feedback"><i class="bi bi-exclamation-triangle"></i> El código postal es obligatorio. <i class="bi bi-exclamation-triangle"></i></div>
                                </div>
                            </div>

                            <div class="container mt-4">
                                <div class="col-5">
                                    <div class="alert alert-info">
                                        <strong>Info!</strong> Por favor lee el  <a href="#" class="alert-link"> documento de términos y condiciones</a>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-0 col-12">
                                <div class="form-check">
                                  <input class="form-check-input" type="checkbox" value="" id="invalidCheck" required>
                                  <label class="form-check-label" for="invalidCheck">
                                    He leído y acepto los términos y condiciones.
                                  </label>
                                  <div class="invalid-feedback">
                                    <i class="bi bi-exclamation-triangle"></i> Es necesario aceptar los términos y condiciones <i class="bi bi-exclamation-triangle"></i>
                                  </div>
                                </div>
                              </div>

                            <!-- Fin Datos Personales -->
                            <!-- Información de Facturación -->
                            <h4 class="mt-5">Datos de Facturación</h4>

                            <div class="container-fluid">
                                <div class="col-4">
                                    <label for="tarjeta" class="form-label">Número de tarjeta de crédito o débito::</label>
                                    <input type="text" class="form-control" id="tarjeta" placeholder="" name="tarjeta" required>
                                    <div class="valid-feedback"></div>
                                    <div class="invalid-feedback"><i class="bi bi-exclamation-triangle"></i> El número de tarjeta de crédito es obligatorio. <i class="bi bi-exclamation-triangle"></i></div>
                                </div>
                            </div>
                            
                            <div class="mt-3 form-group row">
                                <label for="sel1">Fecha de vencimiento:</label>
                                <div class="col-sm-2">
                                    <select class="form-control" id="mes" placeholder="Mes">
                                        <option>Enero</option>
                                        <option>Febrero</option>
                                        <option>Marzo</option>
                                        <option>Abril</option>
                                        <option>Mayo</option>
                                        <option>Junio</option>
                                        <option>Julio</option>
                                        <option>Agosto</option>
                                        <option>Septiembre</option>
                                        <option>Octubre</option>
                                        <option>Noviembre</option>
                                        <option>Diciembre</option>
                                    </select>
                                </div>
                                <div class="col-sm-2">
                                    <select class="form-control" id="anio" placeholder="Año">
                                        <option>2022</option>
                                        <option>2023</option>
                                        <option>2024</option>
                                        <option>2025</option>
                                        <option>2026</option>
                                        <option>2027</option>
                                        <option>2028</option>
                                        <option>2029</option>
                                        <option>2030</option>
                                        <option>2031</option>
                                        <option>2032</option>
                                        <option>2033</option>
                                    </select>
                                </div>
                            </div>

                            <div class="container-fluid">
                                <div class="col-4">
                                    <label for="nombreTarjeta" class="form-label">Nombre del titular de la tarjeta:</label>
                                    <input type="text" class="form-control" id="nombreTarjeta" placeholder="" name="nombreTarjeta" required>
                                    <div class="valid-feedback"></div>
                                    <div class="invalid-feedback"><i class="bi bi-exclamation-triangle"></i> El nombre de la tarjeta de crédito es obligatoria. <i class="bi bi-exclamation-triangle"></i></div>
                                </div>
                            </div>

                            <div class="col-12">
                                <button class="btn btn-primary" type="submit">Enviar</button>
                            </div>

                        </form>

                    </div>
                </section>
            </div>

        </main>
    </div>

    <script src="./JS/scripts.js"></script>
    <script>
        /*//Obtengo el formulario en variable
        var form = document.getElementById("formulario");
    
        //Activo un evento cuando un elemeto de formulario pierde el foco
        form.addEventListener('submit', function( event ) {
          //event.target.value esta instruccion lee el valor del input que pierde el foco
          //Checkeo si se deja vacio o no
          form.classList.add('was-validated');
        }, false);*/
    
      </script>
    <script>
       // Example starter JavaScript for disabling form submissions if there are invalid fields
(function () {
  'use strict'

  // Fetch all the forms we want to apply custom Bootstrap validation styles to
  var forms = document.querySelectorAll('.needs-validation')

  // Loop over them and prevent submission
  Array.prototype.slice.call(forms)
    .forEach(function (form) {
      form.addEventListener('submit', function (event) {
        if (!form.checkValidity()) {
          event.preventDefault()
          event.stopPropagation()
        }

        form.classList.add('was-validated')
      }, false)
    })
})()
      </script>
      <script>
          var cont = 0;
          var form = document.getElementById('formulario');
          var barra = document.getElementById('barra');
          const max = 12;
          //var filledInputs = $(':input').filter(function() {return !!this.value;}).length;
          form.addEventListener('blur', function( event ) {
            if(event.target.value != ""){
                cont++;
                if(cont >= max){cont = max;}
            }else{
                cont--;
                if(cont <= 0){cont = 0;}
            }
            let procentaje = cont/ max * 100;

            barra.style.width = procentaje + '%';
            }, true);


      </script>
        <script>
            var spinner = document.getElementById('spinner');
            var alias = document.getElementById('alias');
            spinner.style.display = "none";
            alias.addEventListener("blur", function( event ) {
                if(event.target.value != ""){
                spinner.style.display = "block";
                setTimeout(function(){spinner.style.display = "none";}, 1000);
            }
            }, true);
        </script>
</body>
</html>